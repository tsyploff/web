<!DOCTYPE html>
<html>
 	<head>
		<title>04.03.2020</title>
		<link rel="stylesheet" href="css/main.css">
		<script>
			document.addEventListener ("DOMContentLoaded", ready);
			function addBattery() {
				var div = document.createElement("div");
				div.classList.add("battery");
				div.classList.add("low");
				div.addEventListener("click", onBatteryClick);
				document.querySelector("#batteries").appendChild(div);
			
		}
		
		function onBatteryClick(){
			this.classList.toggle("active");
			if (this.classList.contains("low")){
				this.classList.remove("low");
				this.classList.add("medium");
			}
			else if (this.classList.contains("medium")){
				this.classList.remove("medium");
				this.classList.add("high");
			}
			else if (this.classList.contains("high")){
				this.classList.remove("high");
				this.classList.add("low");
			}
		}
		
		function ready(){
			var elements, element;
			elements = document.querySelectorAll(".battery");
			for (var i=0; i<elements.length; i++) {
				var element = elements[i];
				element.addEventListener("click", onBatteryClick);
				//element.style.width = "50px";
			}
			console.log(elements);
			//alert("Hi");
		}
	</script>
 	</head>
 <body>
 	<div id=batteries>
		<div class="battery low"></div>
		<div class="battery medium"></div>
		<div class="battery high"></div>
	</div>
	<button onclick ="addBattery()";> 
		Добавить батарейку
	</button>
 </body>
</html>